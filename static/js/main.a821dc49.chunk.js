(this.webpackJsonpsharedatadifferentroutes=this.webpackJsonpsharedatadifferentroutes||[]).push([[0],{48:function(e,n,t){e.exports=t(60)},58:function(e,n,t){},59:function(e,n,t){},60:function(e,n,t){"use strict";t.r(n);var o={};t.r(o),t.d(o,"useBooks",(function(){return T}));var a,l=t(0),i=t.n(l),r=t(7),c=t.n(r),u=t(23),s=t(3),d=t(84),v=t(31),m=t(16),f=t(80),p=t(82),E=Object(f.a)((function(e){return{arrow:{color:e.palette.common.black},tooltip:{backgroundColor:e.palette.common.black}}})),b=function(e){return i.a.createElement(p.a,Object.assign({arrow:!0,classes:E()},e))},h=Object(v.a)((function(e){return Object(d.a)({row:{display:"flex",flexWrap:"wrap"},poster:{height:"180px",width:"auto"}})}))((function(e){var n=e.books,t=e.classes;return i.a.createElement("div",{className:t.row},n.map((function(e,n){return i.a.createElement(u.b,{className:"Book-item",to:(null===e||void 0===e?void 0:e.asin)||(null===e||void 0===e?void 0:e.isbn13)||(null===e||void 0===e?void 0:e.isbn10)?"/book/".concat((null===e||void 0===e?void 0:e.asin)||(null===e||void 0===e?void 0:e.isbn13)||(null===e||void 0===e?void 0:e.isbn10)):"",key:(null===e||void 0===e?void 0:e.asin)||(null===e||void 0===e?void 0:e.isbn13)||(null===e||void 0===e?void 0:e.isbn10)||n},i.a.createElement(b,{title:(null===e||void 0===e?void 0:e.title)||""},(null===e||void 0===e?void 0:e.poster)&&i.a.createElement("img",{className:t.poster,alt:null===e||void 0===e?void 0:e.title,src:e.poster})))})))})),O=function(){var e,n=Object(m.c)((function(e){return e.useBooks.wrapPromise})),t=null===n||void 0===n||null===(e=n.read)||void 0===e?void 0:e.call(n);return i.a.createElement(h,{books:t||[]})},g=t(83),k=function(){return i.a.createElement("div",null,"page not found")},w=function(){var e,n,t,o,a=Object(s.f)().bookId,l=Object(m.c)((function(e){return e.useBooks.wrapPromise})),r=null===l||void 0===l||null===(e=l.read)||void 0===e?void 0:e.call(l),c=null===r||void 0===r||null===(n=r.find)||void 0===n?void 0:n.call(r,(function(e){return((null===e||void 0===e?void 0:e.asin)||(null===e||void 0===e?void 0:e.isbn13)||(null===e||void 0===e?void 0:e.isbn10))===a}));return c?i.a.createElement("article",{className:"Book"},i.a.createElement("section",null,(null===c||void 0===c?void 0:c.poster)&&i.a.createElement("img",{alt:null===c||void 0===c?void 0:c.title,src:c.poster})),i.a.createElement("div",null,i.a.createElement("header",null,i.a.createElement("h1",null,c.title),i.a.createElement("h3",null,c.subTitle),void 0!==(null===c||void 0===c?void 0:c.ranking)&&i.a.createElement(g.a,{name:"half-rating-read",value:c.ranking,precision:.1,readOnly:!0,size:"large"})),i.a.createElement("section",null,(null===c||void 0===c?void 0:c.publicationDate)&&i.a.createElement("span",{className:"Pipe"},null===(t=new Date(c.publicationDate))||void 0===t||null===(o=t.getFullYear)||void 0===o?void 0:o.call(t)),(null===c||void 0===c?void 0:c.length)&&i.a.createElement("span",{className:"Pipe"},c.length),(null===c||void 0===c?void 0:c.publisher)&&i.a.createElement("span",{className:"Pipe"},c.publisher)),(null===c||void 0===c?void 0:c.overview)&&i.a.createElement("section",null,"Overview:",i.a.createElement("div",{style:{whiteSpace:"pre-line"}},c.overview)))):i.a.createElement(k,null)},j=(t(58),function(e){var n,t="pending",o=e.then((function(e){t="success",n=e}),(function(e){t="error",n=e}));return{read:function(){if("pending"===t)throw o;if("error"===t)throw n;if("success"===t)return n}}}),S=t(36);!function(e){e.FETCH_PROMISE="@BOOKS/promise",e.FETCH_BOOKS="@BOOKS/fetch",e.FETCHING_BOOKS="@BOOKS/fetching"}(a||(a={}));var y=function(e){return(null===e||void 0===e?void 0:e.type)===a.FETCH_PROMISE},B=function(e){return(null===e||void 0===e?void 0:e.type)===a.FETCHING_BOOKS},_=function(e){return(null===e||void 0===e?void 0:e.type)===a.FETCH_BOOKS},N=function(e){return{type:a.FETCH_PROMISE,payload:e}},P=function(e){return function(n){e(N(n(new Promise((function(e){return setTimeout((function(){return e(fetch("https://sakai-san.github.io/sharedatadifferentroutes/books.json").then((function(e){return e.json()})))}),3e3)})))))}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{wrapPromise:null,books:[],isFetching:!1},n=arguments.length>1?arguments[1]:void 0;return B(n)?Object(S.a)({},e,{isFetching:n.payload}):_(n)?{books:n.payload,isFetching:!1}:y(n)?Object(S.a)({},e,{wrapPromise:n.payload}):e},F=Object(v.a)((function(e){return Object(d.a)({root:{width:"90%",margin:"0 auto",marginTtop:"110px"}})}))((function(e){var n=e.classes,t=Object(m.b)();return P(t)(j),i.a.createElement(u.a,null,i.a.createElement("div",{className:n.root},i.a.createElement(s.c,null,i.a.createElement(s.a,{path:"/",exact:!0,render:function(){return i.a.createElement(l.Suspense,{fallback:i.a.createElement("h1",null,"Loading books...")},i.a.createElement(O,null))}}),i.a.createElement(s.a,{path:"/book/:bookId",render:function(){return i.a.createElement(l.Suspense,{fallback:i.a.createElement("h1",null,"Loading books...")},i.a.createElement(w,null))}}),i.a.createElement(s.a,{component:k}))))})),C=t(19),I=t(44);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(59);var H=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||C.d,K=Object(C.e)(Object(C.c)(o),H(Object(C.a)(I.a)));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(m.a,{store:K},i.a.createElement(F,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.a821dc49.chunk.js.map